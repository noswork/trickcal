# 🚀 部署管理工具使用指南

## 快速開始

### 啟動工具

在專案根目錄執行：

```bash
npm run deploy
```

或直接執行：

```bash
node scripts/deploy.cjs
```

---

## 📖 功能說明

### 1. 📊 查看當前狀態
- 顯示所有修改的文件
- 顯示當前 Git 分支
- 適合在操作前確認更改內容

### 2. ➕ 添加並提交更改
- 添加所有更改到暫存區
- 輸入提交信息
- 創建本地提交
- **不會推送到遠程**

### 3. 🚀 推送到 GitHub
- 將本地提交推送到 GitHub
- 會觸發 GitHub Actions 自動部署
- 2-3 分鐘後網站更新

### 4. 🔨 構建項目
- 執行 `npm run build`
- 生成 `dist/` 目錄
- 檢查構建是否成功
- **不包含提交和推送**

### 5. 🎯 快速部署 ⭐ 推薦
**最常用的功能！** 一鍵完成所有操作：

1. 🔨 構建項目
2. 📦 添加所有更改
3. 📝 提交更改
4. 🚀 推送到 GitHub

**使用場景**：
- 修改完代碼，想立即部署到網站
- 不需要分步操作的情況

### 6. 📜 查看提交歷史
- 顯示最近 10 次提交
- 包含提交信息和作者
- 方便查看更改記錄

### 7. ↩️ 撤銷最後一次提交
- 撤銷最後一次本地提交
- **更改會保留在暫存區**
- 可以重新編輯後再次提交
- **已推送的提交無法撤銷**

### 8. 🗑️ 刪除遠程分支
- ⚠️ 危險操作！
- 刪除 GitHub 上的分支
- 需要二次確認
- **主分支無法刪除**

### 9. ℹ️ 查看幫助
- 顯示詳細使用說明
- 包含常用操作範例
- 提供小技巧和注意事項

---

## 🎯 使用場景

### 場景 1：日常修改並部署

```
1. 修改代碼
2. 執行 npm run deploy
3. 選擇 5 (快速部署)
4. 輸入提交信息（例如：🎨 優化界面佈局）
5. 等待 2-3 分鐘
6. 訪問網站查看效果
```

### 場景 2：只想查看狀態

```
1. 執行 npm run deploy
2. 選擇 1 (查看當前狀態)
3. 確認有哪些文件被修改
```

### 場景 3：分步操作

```
1. 選擇 4 → 構建項目
2. 選擇 2 → 添加並提交更改
3. 選擇 3 → 推送到 GitHub
```

### 場景 4：提交錯誤想修改

```
1. 選擇 7 → 撤銷最後一次提交
2. 修改代碼
3. 選擇 2 → 重新提交
```

---

## 💡 提交信息規範

建議使用 emoji 讓提交信息更清晰：

| Emoji | 含義 | 範例 |
|-------|------|------|
| 🎨 | UI/樣式改進 | 🎨 優化首頁卡片樣式 |
| ✨ | 新功能 | ✨ 添加暗色主題 |
| 🐛 | 修復 Bug | 🐛 修復圖片加載問題 |
| 📝 | 文檔更新 | 📝 更新 README |
| 🚀 | 性能優化 | 🚀 優化圖片加載速度 |
| ♻️ | 重構代碼 | ♻️ 重構組件結構 |
| 🔧 | 配置修改 | 🔧 更新 Vite 配置 |
| 🌐 | 國際化 | 🌐 添加英文翻譯 |

---

## ⚠️ 注意事項

### 1. 推送前確認
- 使用「查看當前狀態」確認更改
- 確保提交信息清晰明確
- 重要更改建議先本地測試

### 2. 部署時間
- GitHub Actions 需要 2-3 分鐘
- 推送後可以關閉工具
- 訪問 https://github.com/noswork/trickcal/actions 查看進度

### 3. 避免頻繁推送
- 建議批量修改後一次性推送
- 頻繁推送會觸發多次構建
- 影響 GitHub Actions 配額

### 4. 危險操作
- 刪除分支前三思
- 撤銷提交只對本地生效
- 已推送的提交需要其他方式處理

---

## 🛠️ 故障排除

### 問題 1：推送失敗
```bash
# 可能原因：網絡問題或權限不足
# 解決方案：
1. 檢查網絡連接
2. 確認 Git 權限設置
3. 嘗試手動推送：git push origin main
```

### 問題 2：構建失敗
```bash
# 可能原因：代碼錯誤或依賴問題
# 解決方案：
1. 查看錯誤信息
2. 修復代碼錯誤
3. 檢查 node_modules：npm install
```

### 問題 3：無法啟動工具
```bash
# 解決方案：
1. 確認在專案根目錄
2. 檢查 Node.js 版本：node -v
3. 重新安裝依賴：npm install
```

---

## 📞 獲取幫助

- 工具內選擇 9 查看幫助
- 查看提交歷史了解更改記錄
- 有問題請聯繫開發者

---

## 🔗 相關連結

- **網站**：https://noswork.github.io/trickcal/
- **GitHub**：https://github.com/noswork/trickcal
- **Actions**：https://github.com/noswork/trickcal/actions

---

**祝使用愉快！🎉**

